/**
 * PillowPotion Extension - Comprehensive Layout Fixes
 * Implements all user requirements: spacing, logo, navigation, colors
 */

/* ==============================================
   1. BACKGROUND AND BASE STYLES
   ============================================== */

body,
#app {
  background: #f0f2f5 !important;
  margin: 0 !important;
  padding: 0 !important;
}

#app {
  margin-top: 0 !important;
}

/* Remove extra space below credit header */
.auth-header-bar {
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

/* First element should have no top margin */
#app > *:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* ==============================================
   2. LOGO + TITLE SECTION (Below Credit Header)
   ============================================== */

.app-header-section {
  margin: 0 !important;
  padding-top: 8px !important;
  padding-bottom: 8px !important;
}

/* Ensure no spacing between fixed headers and app content */
body > * {
  margin: 0 !important;
}

/* Remove any default spacing from Vue app root */
#app > div:first-child {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Settings page text visibility fixes - ONLY for Settings tab */
.p-tabview-panels label {
  color: #ffffff !important;
  font-weight: 500 !important;
  opacity: 1 !important;
}

.p-tabview-panels small {
  color: #9ca3af !important;
  opacity: 1 !important;
}

/* Fix dropdown text colors ONLY in settings */
.p-tabview-panels .p-dropdown-label {
  color: #ffffff !important;
  opacity: 1 !important;
}

/* Icon colors in settings only */
.p-tabview-panels svg {
  color: #667eea !important;
  opacity: 1 !important;
}

.app-logo {
  width: 32px !important;
  height: 32px !important;
  object-fit: contain !important;
}

.app-title {
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  color: #1a1a2e !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* ==============================================
   3. NAVIGATION ROW (User Guide | Language | Author)
   ============================================== */

.navigation-row {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 1.5rem !important;
  padding: 0.75rem 1.25rem !important;
  background: white !important;
  border-bottom: 1px solid #e5e7eb !important;
  margin-bottom: 0.75rem !important;
  margin-top: 0 !important;
}

.navigation-row > * {
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #667eea !important;
  text-decoration: none !important;
  transition: color 0.2s !important;
  cursor: pointer !important;
}

.navigation-row > *:hover {
  color: #764ba2 !important;
}

/* ==============================================
   4. VERTICAL SPACING (0.75rem = 12px between sections)
   ============================================== */

/* Target specific major sections only */
.prompts-section,
.queue-section,
.actions-row,
.p-tabview,
.concurrent-delay-row,
.p-card,
.p-panel,
.p-fieldset {
  margin-bottom: 0.75rem !important;
}

/* No margin on last element */
#app > *:last-child {
  margin-bottom: 0 !important;
}

/* Tab panels need consistent padding and background */
.p-tabview-panels {
  padding: 1rem !important;
  background: #1a1a1a !important;
  min-height: 100vh !important;
}

/* Settings tab specific styling */
.p-tabview {
  background: #1a1a1a !important;
}

.p-tabview .p-tabview-panels {
  background: #1a1a1a !important;
}

/* Form fields inside containers */
.p-field {
  margin-bottom: 0.75rem !important;
}

/* Last field in container has no margin */
.p-tabview-panels .p-field:last-child,
.p-panel .p-field:last-child,
.p-card .p-field:last-child {
  margin-bottom: 0 !important;
}

/* ==============================================
   5. CONCURRENT PROMPTS + PROMPT DELAY (Side by Side)
   ============================================== */

.concurrent-delay-row {
  display: grid !important;
  grid-template-columns: 1fr 1fr !important;
  gap: 1rem !important;
  margin-bottom: 0.75rem !important;
}

.concurrent-delay-row .p-field {
  margin-bottom: 0 !important;
}

/* Fallback: Target by label text if wrapper doesn't exist */
.p-field:has(label[for*="concurrent"]) + .p-field:has(label[for*="delay"]) {
  display: inline-block !important;
  width: calc(50% - 0.5rem) !important;
  vertical-align: top !important;
}

.p-field:has(label[for*="concurrent"]) {
  display: inline-block !important;
  width: calc(50% - 0.5rem) !important;
  margin-right: 1rem !important;
  vertical-align: top !important;
}

/* ==============================================
   6. PROMPT DELAY COLOR FIXES
   ============================================== */

/* Input field background and border */
.p-inputnumber input,
input[type="number"] {
  background: white !important;
  border: 1px solid #d1d5db !important;
  color: #1f2937 !important;
}

/* Specific targeting for Prompt Delay field */
.p-field label[for*="delay"] ~ .p-inputnumber input,
.p-field label[for*="delay"] ~ * input {
  background: white !important;
  border: 1px solid #d1d5db !important;
  color: #1f2937 !important;
}

/* Increment/Decrement buttons */
.p-inputnumber-button {
  background: #667eea !important;
  border: 1px solid #667eea !important;
  color: white !important;
  transition: all 0.2s !important;
}

.p-inputnumber-button:hover {
  background: #764ba2 !important;
  border-color: #764ba2 !important;
}

.p-inputnumber-button:active {
  background: #5a67d8 !important;
  border-color: #5a67d8 !important;
}

/* Focus state for input */
.p-inputnumber input:focus,
input[type="number"]:focus {
  border-color: #667eea !important;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
  outline: none !important;
}

/* ==============================================
   7. BACKGROUND CONTRAST
   ============================================== */

.p-card,
.p-panel,
.p-fieldset {
  background: white !important;
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
}

/* Tab view wrapper - dark background for settings */
.p-tabview {
  background: #1a1a1a !important;
}

.p-tabview .p-tabview-nav {
  background: #1a1a1a !important;
  border: 1px solid #2d2d2d !important;
  border-bottom: none !important;
}

.p-tabview .p-tabview-panels {
  background: #1a1a1a !important;
  border: none !important;
  min-height: calc(100vh - 116px) !important;
}

/* ==============================================
   8. SYMMETRICAL INPUTS AND BUTTONS
   ============================================== */

/* Uniform button sizing */
.p-button,
button {
  padding: 0.625rem 1.25rem !important;
  font-size: 0.875rem !important;
}

/* Uniform input sizing */
.p-inputtext,
.p-dropdown,
input,
select {
  padding: 0.625rem 0.875rem !important;
  font-size: 0.875rem !important;
}

/* Textarea */
.p-inputtextarea,
textarea {
  padding: 0.625rem 0.875rem !important;
  font-size: 0.875rem !important;
  line-height: 1.5 !important;
}

/* ==============================================
   9. PRIMEVUE COMPONENT OVERRIDES
   ============================================== */

/* Dropdown */
.p-dropdown {
  background: white !important;
  border: 1px solid #d1d5db !important;
}

.p-dropdown:hover {
  border-color: #667eea !important;
}

.p-dropdown:focus {
  border-color: #667eea !important;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
}

/* Input text */
.p-inputtext {
  background: white !important;
  border: 1px solid #d1d5db !important;
  color: #1f2937 !important;
}

.p-inputtext:hover {
  border-color: #667eea !important;
}

.p-inputtext:focus {
  border-color: #667eea !important;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
}

/* Textarea */
.p-inputtextarea {
  background: white !important;
  border: 1px solid #d1d5db !important;
  color: #1f2937 !important;
}

.p-inputtextarea:hover {
  border-color: #667eea !important;
}

.p-inputtextarea:focus {
  border-color: #667eea !important;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
}

/* ==============================================
   10. FINAL ADJUSTMENTS
   ============================================== */

/* Remove any default margins from containers */
.p-card-body,
.p-panel-content,
.p-fieldset-content {
  padding: 1rem !important;
}

/* Ensure labels are properly styled */
label {
  display: block !important;
  margin-bottom: 0.375rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #374151 !important;
}

/* Small text (help text, etc.) */
small {
  font-size: 0.75rem !important;
  color: #6b7280 !important;
}
